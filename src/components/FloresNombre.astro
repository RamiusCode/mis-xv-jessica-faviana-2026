<section class="relative text-black w-full overflow-x-hidden">
    <!-- ====== FONDO ====== -->
    <div class="absolute inset-0 z-0">
        <img
            src="/imagenes/fondo2.png"
            alt="Fondo"
            class="w-full h-full object-cover object-center"
        />
    </div>

    <!-- ====== FLORES ARRIBA ====== -->
    <div class="relative w-full overflow-hidden z-10" id="flores-arriba">
        <img
            src="/imagenes/FloresArriba.png"
            alt="Flores decorativas"
            class="w-full h-auto object-cover object-center block"
        />

        <!-- CORONA centrada -->
        <div
            class="absolute left-1/2 transform -translate-x-1/2 top-[60px] sm:top-12 md:top-10 lg:top-6 xl:top-4 z-50"
            id="corona"
        >
            <img
                src="/imagenes/corona.png"
                alt="Corona de quinceañera"
                class="w-20 h-auto sm:w-24 md:w-28 lg:w-32 xl:w-36 object-contain mx-auto drop-shadow-lg"
            />
        </div>
    </div>

    <!-- ====== CONTENIDO PRINCIPAL ====== -->
    <div class="relative w-full overflow-hidden z-10 flex flex-col">
        <div class="flex justify-center w-full">
            <div class="text-center max-w-2xl w-full">
                <!-- TÍTULO "MIS XV AÑOS" -->
                <div
                    class="relative text-center z-30 mb-3 w-full"
                    id="titulo-container"
                >
                    <div class="flex items-center justify-center gap-3 mb-1">
                        <div
                            class="h-px w-12 sm:w-16 bg-gradient-to-r from-transparent to-[#c9973a]"
                        >
                        </div>
                        <span class="text-[#c9973a] text-lg">✦</span>
                        <div
                            class="h-px w-12 sm:w-16 bg-gradient-to-l from-transparent to-[#c9973a]"
                        >
                        </div>
                    </div>

                    <h1
                        class="font-crimson text-xl sm:text-2xl md:text-3xl lg:text-4xl font-bold tracking-[6px] sm:tracking-[8px] uppercase titulo-xv"
                        id="titulo"
                    >
                        Mis XV Años
                    </h1>

                    <div class="flex items-center justify-center gap-3 mt-1">
                        <div
                            class="h-px w-12 sm:w-16 bg-gradient-to-r from-transparent to-[#c9973a]"
                        >
                        </div>
                        <span class="text-[#c9973a] text-lg">✦</span>
                        <div
                            class="h-px w-12 sm:w-16 bg-gradient-to-l from-transparent to-[#c9973a]"
                        >
                        </div>
                    </div>
                </div>

                <!-- NOMBRE CON MARIPOSAS -->
                <div
                    class="flex items-center justify-center gap-2 sm:gap-4 mb-1 w-full"
                    id="nombre-container"
                >
                    <div id="mariposa-izq" class="flex-shrink-0 self-center">
                        <img
                            src="/gif/celeste.png"
                            alt="Mariposa izquierda"
                            class="w-8 h-auto sm:w-10 md:w-12 object-contain drop-shadow-md"
                        />
                    </div>

                    <!-- Dos líneas: Jessica arriba, Fabiana abajo -->
                    <div
                        class="flex flex-col items-center"
                        id="nombre-wrapper"
                        style="gap: 0.7rem;"
                    >
                        <h2
                            class="font-great-vibes nombre-estilo block"
                            id="nombre-linea1"
                            style="font-size: clamp(3.8rem, 13vw, 8rem);"
                        >
                        </h2>
                        <h2
                            class="font-great-vibes nombre-estilo block"
                            id="nombre-linea2"
                            style="font-size: clamp(3.8rem, 13vw, 8rem);"
                        >
                        </h2>
                    </div>

                    <div id="mariposa-der" class="flex-shrink-0 self-center">
                        <img
                            src="/gif/celeste.png"
                            alt="Mariposa derecha"
                            class="w-8 h-auto sm:w-10 md:w-12 object-contain scale-x-[-1] drop-shadow-md"
                        />
                    </div>
                </div>

                <!-- FOTO CON FLORES LATERALES -->
                <div
                    class="relative w-full overflow-visible"
                    id="foto-container"
                >
                    <div
                        id="flores-foto-izq"
                        class="absolute -left-2 sm:left-0 top-20 sm:top-16 md:top-12 flex-shrink-0 z-30"
                    >
                        <img
                            src="/imagenes/FlorLateral.png"
                            alt="Flores izquierda"
                            class="w-16 h-auto sm:w-24 md:w-32 lg:w-40 object-contain drop-shadow-md"
                        />
                    </div>
                    <div
                        id="flores-foto-der"
                        class="absolute -right-2 sm:right-0 top-20 sm:top-16 md:top-12 flex-shrink-0 z-30"
                    >
                        <img
                            src="/imagenes/FlorLateral.png"
                            alt="Flores derecha"
                            class="w-16 h-auto sm:w-24 md:w-32 lg:w-40 object-contain scale-x-[-1] drop-shadow-md"
                        />
                    </div>
                    <div class="relative flex justify-center">
                        <img
                            src="/imagenes/Quinceañera.png"
                            alt="Foto de quinceañera"
                            class="w-full max-w-[85vw] sm:max-w-[70vw] md:max-w-[55vw] lg:max-w-[45vw] xl:max-w-[38vw] h-auto object-contain object-bottom drop-shadow-xl"
                            id="foto-quinceañera"
                        />
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    import { gsap } from "gsap";

    document.addEventListener("DOMContentLoaded", () => {
        // CORONA
        gsap.fromTo(
            "#corona",
            { opacity: 0, scale: 0.4, y: -20 },
            {
                opacity: 1,
                scale: 1,
                y: 0,
                duration: 1.4,
                ease: "elastic.out(1, 0.6)",
                delay: 0.2,
            },
        );

        // TÍTULO
        gsap.fromTo(
            "#titulo-container",
            { opacity: 0, y: -25 },
            { opacity: 1, y: 0, duration: 1.1, ease: "power3.out", delay: 0.5 },
        );

        // MARIPOSA IZQUIERDA
        gsap.fromTo(
            "#mariposa-izq",
            { opacity: 0, x: -60, rotation: -20, scale: 0.7 },
            {
                opacity: 1,
                x: 0,
                rotation: 0,
                scale: 1,
                duration: 1.6,
                ease: "back.out(1.4)",
                delay: 0.8,
            },
        );
        gsap.to("#mariposa-izq", {
            y: -10,
            rotation: 5,
            duration: 2.5,
            ease: "sine.inOut",
            yoyo: true,
            repeat: -1,
            delay: 2.5,
        });
        gsap.to("#mariposa-izq", {
            x: 8,
            duration: 3.5,
            ease: "sine.inOut",
            yoyo: true,
            repeat: -1,
            delay: 2.5,
        });

        // MARIPOSA DERECHA
        gsap.fromTo(
            "#mariposa-der",
            { opacity: 0, x: 60, rotation: 20, scale: 0.7 },
            {
                opacity: 1,
                x: 0,
                rotation: 0,
                scale: 1,
                duration: 1.6,
                ease: "back.out(1.4)",
                delay: 0.8,
            },
        );
        gsap.to("#mariposa-der", {
            y: -10,
            rotation: -5,
            duration: 2.5,
            ease: "sine.inOut",
            yoyo: true,
            repeat: -1,
            delay: 2.5,
        });
        gsap.to("#mariposa-der", {
            x: -8,
            duration: 3.5,
            ease: "sine.inOut",
            yoyo: true,
            repeat: -1,
            delay: 2.5,
        });

        // FLORES LATERALES
        gsap.fromTo(
            "#flores-foto-izq",
            { opacity: 0, x: -120 },
            { opacity: 1, x: 0, duration: 1.5, ease: "power2.out", delay: 0.9 },
        );
        gsap.fromTo(
            "#flores-foto-der",
            { opacity: 0, x: 120 },
            { opacity: 1, x: 0, duration: 1.5, ease: "power2.out", delay: 0.9 },
        );

        // FOTO
        gsap.fromTo(
            "#foto-quinceañera",
            { opacity: 0, y: 50, scale: 0.88 },
            {
                opacity: 1,
                y: 0,
                scale: 1,
                duration: 1.6,
                ease: "power2.out",
                delay: 0.6,
            },
        );

        // NOMBRE - Dos líneas animadas
        function animarLinea(id, texto, delay) {
            const contenedor = document.getElementById(id);
            if (!contenedor) return;
            contenedor.innerHTML = texto
                .split("")
                .map(
                    (letra, index) =>
                        `<span class="letra-cascada" style="
                        opacity: 0;
                        display: inline-block;
                        transform: translateY(24px) scale(0.75);
                        filter: blur(3px);
                    ">${letra}</span>`,
                )
                .join("");
            gsap.to(`#${id} .letra-cascada`, {
                opacity: 1,
                y: 0,
                scale: 1,
                filter: "blur(0px)",
                duration: 0.85,
                ease: "back.out(1.8)",
                stagger: { each: 0.1, from: "start" },
                delay,
            });
        }

        animarLinea("nombre-linea1", "Jessica", 0.7);
        animarLinea("nombre-linea2", "Fabiana", 1.4);
    });
</script>

<style>
    /* ====== MIS XV AÑOS - Celeste sólido simple ====== */
    .titulo-xv {
        color: #6683c7 !important;
        -webkit-text-fill-color: #6683c7 !important;
        text-shadow:
            -2px -2px 0 #fff,
            2px -2px 0 #fff,
            -2px 2px 0 #fff,
            2px 2px 0 #fff,
            0 0 12px rgba(0, 191, 255, 0.8);
        font-weight: 900;
        background: none !important;
        -webkit-background-clip: unset !important;
        background-clip: unset !important;
        filter: none;
        animation: none;
    }

    /* ====== NOMBRE - Rosa sólido simple con contorno blanco ====== */
    .nombre-estilo {
        color: #ec6ca4 !important;
        -webkit-text-fill-color: #ec6ca4 !important;
        text-shadow:
            -2px -2px 0 #fff,
            2px -2px 0 #fff,
            -2px 2px 0 #fff,
            2px 2px 0 #fff,
            0 0 14px rgba(255, 20, 147, 0.7);
        font-weight: 700;
        line-height: 1.15;
        background: none !important;
        -webkit-background-clip: unset !important;
        background-clip: unset !important;
        filter: none;
        animation: none;
    }

    @keyframes brilloNombre {
        0% {
            background-position: 0% center;
        }
        100% {
            background-position: 200% center;
        }
    }

    /* ====== LETRA HOVER ====== */
    .letra-cascada {
        will-change: transform, opacity, filter;
        position: relative;
        color: inherit !important;
        -webkit-text-fill-color: inherit !important;
    }

    .letra-cascada:hover {
        transform: translateY(-4px) scale(1.12) !important;
        transition: transform 0.2s ease;
    }

    #flores-arriba,
    #flores-arriba img {
        opacity: 1 !important;
    }
</style>
